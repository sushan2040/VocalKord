FROM openjdk:17-jdk-slim
WORKDIR /app
COPY target/language.detector-1.0-SNAPSHOT.jar app.jar
RUN chmod +r app.jar
ARG AWS_S3_ACCESS_KEY
ARG AWS_S3_SECRET_ACCESS_KEY
ARG SERVER_PORT
ENV AWS_S3_ACCESS_KEY=${AWS_S3_ACCESS_KEY}
ENV AWS_S3_SECRET_ACCESS_KEY=${AWS_S3_SECRET_ACCESS_KEY}
ENV SERVER_PORT=${SERVER_PORT}
EXPOSE 8082
ENTRYPOINT ["java", "-jar", "app.jar"]